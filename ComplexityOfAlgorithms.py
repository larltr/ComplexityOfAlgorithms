import time                              # импортируем модуль time, чтобы мерять время выполнения функций

# медленный способ (O(n * m))
def slow_common(a, b):                    # объявляем функцию slow_common, которая принимает два списка a и b
    start = time.time()                   # запоминаем текущее время (начало работы) в переменную start
    ops = 0                               # счетчик операций, начинаем с нуля
    result = []                           # список result будет хранить найденные общие элементы (без дубликатов)

    for x in a:                           # внешний цикл: для каждого элемента x из списка a
        for y in b:                       # вложенный цикл: для каждого элемента y из списка b
            ops += 1                      # считаем это сравнение как одну операцию
            if x == y and x not in result: # если x равен y и этот элемент ещё не добавлен в result
                result.append(x)          # добавляем x в result

    end = time.time()                     # запоминаем текущее время (конец работы)
    return result, ops, end - start       # возвращаем: найденные элементы, число операций и время работы (в секундах)

# быстрый способ (O(n + m))
def fast_common(a, b):                    # объявляем функцию fast_common, которая принимает два списка a и b
    start = time.time()                   # начало измерения времени
    ops = 0                               # счетчик операций
    result = []                           # список для общих элементов (будем избегать дубликатов)

    set_a = set()                         # создаём пустое множество set_a (множество быстро отвечает на запросы "входит ли элемент")
    for x in a:                           # проходим по всем элементам списка a
        set_a.add(x)                      # добавляем элемент x в множество set_a
        ops += 1                          # считаем добавление как одну операцию

    for y in b:                           # проходим по всем элементам списка b
        ops += 1                          # считаем проверку как одну операцию (мы проверим y в set_a ниже)
        if y in set_a and y not in result: # если y есть в set_a и ещё не добавлен в result
            result.append(y)              # добавляем y в result

    end = time.time()                     # конец измерения времени
    return result, ops, end - start       # возвращаем найденные элементы, число операций и потраченное время

a = [1, 2, 3, 4, 5, 6]                    # пример первого списка a
b = [4, 5, 7, 8, 3]                       # пример второго списка b

slow_res, slow_ops, slow_time = slow_common(a, b)   # вызываем медленную функцию и сохраняем её результаты в три переменные
fast_res, fast_ops, fast_time = fast_common(a, b)   # вызываем быструю функцию и сохраняем её результаты

print("=== МЕДЛЕННЫЙ МЕТОД ===")           # печатаем заголовок для результатов медленного метода
print("Общие элементы:", slow_res)         # печатаем общие элементы, найденные медленным методом
print("Операции:", slow_ops)              # печатаем число операций, которое посчитали в медленном методе
print("Время:", slow_time)                 # печатаем время выполнения медленного метода (в секундах)
print()                                    # печатаем пустую строку для разделения вывода

print("=== БЫСТРЫЙ МЕТОД ===")             # заголовок для быстрого метода
print("Общие элементы:", fast_res)         # печатаем общие элементы для быстрого метода
print("Операции:", fast_ops)               # печатаем число операций для быстрого метода
print("Время:", fast_time)                 # печатаем время выполнения быстрого метода (в секундах)